
Overview
--------------------------------------------
* Name: DHT11
* Description: Display the data from a DHt11 humdity sensor to 
a 4 digit seven segment display.
* Author: Gavin Lyons.
* Complier: xc8 v2.05 compiler
* PIC: PIC16F1619 
* IDE:  MPLAB X v5.05
* Development board: Microchip Curiosity Board, PIC16F1619

Table of contents
---------------------------

  * [Overview](#overview)
  * [Features](#features)
  * [Schematic](#schematic)
  
Features
----------------------

The Data is read on a interrupt generated by overflow of timer0
every ~ 4  seconds.

The DHT11 is connected to RC4.
The DHT returns temperature and humidity readings (ranges 0-50'C and 20-90% respectively.) . 
The digits of the temperature are displayed on left hand side of LED module and
the digits of the humidity on right hand side. 
i.e. if the sensor is reported 25'C and 49% humidity the Display reads 2549.
A status LED on RA2 toggles on same Timer.

4 pins of PORT B controls the four cathodes of each digit.

3 pins of PORT C of PIC outputs the data to a 74HC595 shift register which in 
turn is connected to anodes of the SMA420564 common cathode display LED module.


RC4 = DHT11 signal.
RA2 = Status LED.

Error codes( on digit 1 , all ready digits off)

1. 7 = Communication Start-up Error. The Program has hanged up while trying to communicate
2. 8 = Communications Error. No response to the PICs request signal from sensor.
3. 9 = Checksum Error. Received all data from sensor but it failed checksum.

Communication Format with DHT11 can be separated into four stages.

1. Request
2. Response
3. Data Reading 5 bytes.
4. Sum the 1st 4 bytes and check if the result is the same as CheckSum(5th byte)


GPIO function on PIC, 3 lines to 74HC595

| 74HC595 pin  | Pic 16F1619 pin |
| ------ | ------ |
| SER  14 serial data | RC0 |
| RCLK 12 Latch | RC1 |
| SCLK 11 Storage | RC2 |

Connections from seven segment module to PIC(digit control).

| Pic 16F1619 pin  | LED module SMA420564 |
| ------ | ------ |
| RB4  | D1 12 |
| RB5 | D2 9 |
| RB6  | D3 8 |
| RB7  | D4 6 |

Connections from seven segment module to shift register pins.

| 74HC595 pin  | LED module SMA420564 |
| ------ | ------ |
| pin 7 QH | A pin 11 |
| pin 6 QG | B pin 7 |
| pin 5 QF | C pin 4 |
| pin 4 QE | D pin 2|
| pin 3 QD | E pin 1|
| pin 2 QC | F pin 10|
| pin 1 QB | G pin 5 |
| n/a | DP pin 3 |

For more info on segments lettering  of seven segment display, see here.
https://en.wikipedia.org/wiki/Seven-segment_display

![PICTURE](https://github.com/gavinlyonsrepo/pic_16F1619_projects/blob/master/images/7segpinout.png)

Schematic
------------------------

![schematic](https://github.com/gavinlyonsrepo/pic_16F1619_projects/blob/master/images/DHT11.png)
